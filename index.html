<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> WorkSphere </title>
  <link rel="stylesheet" href="style.css">
</head>
<body> 
  <header>
    <h1> WorkSphere - Staff Managemence Space </h1>
  </header>
  <main class="container">
    <!-- la partie gauche qui contient les emplyées non assignés -->
    <div class="unassigned-staff">
      <!-- **FIXED: Added id="addstaffBtn"** -->
      <button id="addstaffBtn" class="addstaff"> Add New Staff </button>
      <form id="addstaffform" style="display: none;">
        <h3>Add a New Staff Member</h3>
        <label>
            Full Name
            <input type="text" placeholder="El Qartit Bouchra" >
        </label>

        <label class="role-label">
            Occupation
            <select name="role" required>
                <option value="">-- choose --</option>
                <option> Receptionist </option>
                <option> IT TECH </option>
                <option> Security Agents </option>
                <option> Manager </option>
                <option> Cleaning Staff </option>
                <option> Other </option>
            </select>
        </label>
        <label>
            Phone Number:
            <input type="tel" placeholder="0625883148" required>
        </label>

        <label>
            Mail:
            <input type="email" placeholder="gmail.com">
        </label>

        <label>
            Picture:
            <input type="url" placeholder="image">
        </label>
        <button class="button-ajouter" type="submit">Ajouter</button>
      </form>
      <!-- Added a container to list the staff members -->
      <div id="unassignedStaffList">
        <!-- Staff members will be added here dynamically -->
      </div>
    </div>
    <!-- la partie droite containing the 6 boxes of the floors -->
    <div class="building-floor">
      <!-- ... (rest of the building divs) ... -->
      <div class="conference-room">
        <h3> Conference Room </h3>
        <div class="zone-content"> 
          <button class="add"> ➕ </button>
        </div>
      </div>
      <div class="reception">
        <h3> Reception </h3>
        <div class="zone-content"> 
          <button class="add"> ➕ </button>
        </div>
      </div>
      <div class="server-room">
        <h3> Server Room </h3>
        <div class="zone-content"> 
          <button class="add"> ➕ </button>
        </div>
      </div>
      <div class="security-room">
        <h3> Security Room </h3>
        <div class="zone-content"> 
          <button class="add"> ➕ </button>
        </div>
      </div>
      <div class="staff-room">
        <h3> Staff Room </h3>
        <div class="zone-content"> 
          <button class="add"> ➕ </button>
        </div>
      </div>
      <div class="archive-room">
        <h3> Archive Room </h3>
        <div class="zone-content"> 
          <button class="add"> ➕ </button>
        </div>
      </div>
    </div>
  </main>
  <footer>

  </footer> 
  <script>
  const addButton = document.getElementById("addstaffBtn");
  const staffForm = document.getElementById("addstaffform");
  const staffListContainer = document.getElementById("unassignedStaffList");
  const nameInput = document.getElementById("staffName");
  const positionInput = document.getElementById("staffPosition");
  const emailInput = document.getElementById("staffEmail");

  // --- 0. Load existing staff on page load ---
  let staffArray = JSON.parse(localStorage.getItem("staffList")) || [];
  staffArray.forEach(staff => {
    addStaffMemberToList(staff.name, staff.position, staff.email);
  });

  // 1. Show form
  addButton.addEventListener("click", () => {
    staffForm.style.display = "block";
  });

  // 2. Handle form submit
  staffForm.addEventListener("submit", function(event) {
    event.preventDefault();

    const name = nameInput.value;
    const position = positionInput.value;
    const email = emailInput.value;

    if (name && position && email) {
      addStaffMemberToList(name, position, email);

      // --- Save to localStorage ---
      staffArray.push({ name, position, email });
      localStorage.setItem("staffList", JSON.stringify(staffArray));

      staffForm.reset();
      staffForm.style.display = "none";
    } else {
      alert("Please fill in all fields.");
    }
  });

  // 3. Add staff card to the UI
  function addStaffMemberToList(name, position, email) {
    const staffDiv = document.createElement("div");
    staffDiv.classList.add("staff-member-card");

    staffDiv.innerHTML = `
      <h4>${name}</h4>
      <p>Position: ${position}</p>
      <p>Email: ${email}</p>
    `;

    staffListContainer.appendChild(staffDiv);
  }
</script>
</body>
</html>